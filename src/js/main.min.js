let query="autumn";const clientID="client_id=gclHdRNUn-az5qx_nHmjSH0l-T2-EFAgOSpEfvjhVjU",galleryContainer=document.querySelector(".gallery");let count=12;function showData(e){if(12===count)for(let t=0;t<12;t+=1){const n=document.createElement("img");n.classList.add("gallery-img"),n.src=e.results[t].urls.regular,n.alt="image",n.addEventListener("load",(()=>{n.classList.add("loaded")})),n.onclick=function(){window.open(`${n.src}`)},galleryContainer.append(n)}else for(let t=count;t<count+4;t+=1){const n=document.createElement("img");n.classList.add("gallery-img"),n.src=e.results[t].urls.regular,n.alt="image",n.addEventListener("load",(()=>{n.classList.add("loaded")})),n.onclick=function(){window.open(`${n.src}`)},galleryContainer.append(n)}}async function getData(){const e=`https://api.unsplash.com/search/photos?page=1&per_page=30&orientation=portrait&query=${query}&${clientID}`,t=await fetch(e);showData(await t.json())}getData();const searchInput=document.querySelector(".search");searchInput.addEventListener("keypress",(e=>{"Enter"===e.key&&(galleryContainer.innerHTML="",query=searchInput.value,count=12,moreButton.classList.remove("hidden"),getData())})),galleryContainer.onload=()=>{document.querySelector("gallery-img").classList.add("loaded")};const clearButton=document.querySelector(".clear-button");function hideKeyboard(e){"Enter"===e.key&&searchInput.blur()}clearButton.addEventListener("click",(()=>{searchInput.value=""})),window.matchMedia("(max-width: 768px)").matches&&searchInput.addEventListener("keypress",hideKeyboard);const moreButton=document.querySelector(".show-more");moreButton.addEventListener("click",(()=>{count<24&&(count+=4,console.log(count),getData()),24===count&&moreButton.classList.add("hidden")})),document.addEventListener("DOMContentLoaded",(function(){count=12}));